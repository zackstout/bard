(function(t){function e(e){for(var n,s,c=e[0],l=e[1],o=e[2],p=0,h=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,o||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var l=a[c];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var o=0;o<c.length;o++)e(c[o]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"034f":function(t,e,a){"use strict";a("85ec")},"27c0":function(t,e,a){"use strict";a("9567")},"2e68":function(t,e,a){},"478c":function(t,e,a){t.exports=a.p+"img/home_icon.63818db7.png"},6608:function(t,e,a){"use strict";a("2e68")},"85ec":function(t,e,a){},"8dff":function(t,e,a){},"91d7":function(t,e,a){"use strict";a("8dff")},9567:function(t,e,a){},cd31:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);var n=a("a026"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],s=a("9ab4"),c=a("1b40"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),e=Object(s["b"])([Object(c["a"])({})],e),e}(c["c"]),o=l,u=o,p=(a("034f"),a("2877")),h=Object(p["a"])(u,r,i,!1,null,null,null),d=h.exports,f=a("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{overflow:"hidden"}},[n("div",{attrs:{id:"sidebar"}},[n("div",{staticStyle:{padding:"1rem"}},t._l(t.plays,(function(e){return n("div",{key:e.value,staticClass:"side-play",style:{"font-weight":t.play===e.value?"bold":""},on:{click:function(a){return t.goPlay(e.value)}}},[t._v(" "+t._s(e.label)+" ")])})),0)]),n("div",{attrs:{id:"main"}},[n("div",{staticClass:"click",staticStyle:{width:"15px",height:"15px"},on:{click:function(e){return t.$router.push("/")}}},[n("img",{attrs:{src:a("478c"),alt:""}})]),n("hr",{staticStyle:{"margin-bottom":"0"}}),n("h2",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.playLabel))]),n("div",{staticClass:"ridges-container"}),n("div",{staticClass:"chart-desc"},[t._v(" Shows the number of lines spoken by each character. Time advances along the x-axis. ")]),n("div",{staticClass:"line"}),t._m(0),n("div",{staticClass:"line"}),t._m(1),n("div",{staticClass:"line"}),n("div",[n("div",{staticClass:"chart-container"},[n("h3",[t._v("Speeches")]),n("div",{staticStyle:{display:"flex"}},[n("span",{staticStyle:{"margin-right":"3px"}},[t._v("Minimum length:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.minLengthSelectOption,expression:"minLengthSelectOption"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minLengthSelectOption=e.target.multiple?a:a[0]}}},t._l(t.minLengthSelectOptions,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),n("div",{staticStyle:{"font-style":"italic","margin-top":"10px"}},[t._v("Results: "+t._s(t.speeches.length))])]),n("div",t._l(t.speeches,(function(e,a){return n("div",{key:a,staticStyle:{"margin-top":"20px"}},[n("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.title))]),n("div",[t._v(" "+t._s(e.data.speaker)+" "),n("span",{staticStyle:{"font-style":"italic"}},[t._v("("+t._s(e.data.lines.length)+" lines)")])]),n("div",t._l(e.data.lines,(function(a,r){return n("div",{key:r,style:t.getLineStyle(e.data.speaker)},[t._v(" "+t._s(a)+" ")])})),0)])})),0)])])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-container"},[a("div",{staticClass:"chart-container"},[a("h3",[t._v("Characters")]),a("div",{staticClass:"characters-container"}),a("div",{staticClass:"chart-desc"},[t._v(" Shows the number of lines spoken by each character. ")])]),a("div",[a("div",{staticClass:"chart-container"},[a("h3",[t._v("Interactions")]),a("div",{staticClass:"interactions-container"}),a("div",{staticClass:"chart-desc"},[t._v(" Shows the number of interactions between characters (counted by lines spoken in succession). ")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[a("h3",[t._v("Scenes")]),a("div",{staticClass:"pie-container"}),a("div",{staticClass:"chart-desc"},[t._v(" Shows each scene broken down by number of lines per character. ")])])}],m={CLICK_SCENE:"CLICK_SCENE",CLICK_SPEAKER:"CLICK_SPEAKER"},g=new n["a"],b=a("00a5"),_=a("127c"),k=a("548a"),x=a("b026"),S=a("4748"),C=a("df19"),w=a("6bcb"),O=a("b6f4"),j=a("e38c"),E=a("7792"),A=a("650c"),P=a("e13a"),L=a("c33f"),I=a("8814"),$={select:b["a"],selectAll:_["a"],scaleLinear:k["a"],scaleBand:x["a"],scaleTime:S["a"],scaleOrdinal:C["a"],axisTop:I["c"],axisBottom:I["a"],axisLeft:I["b"],area:j["a"],group:P["a"],extent:L["a"],curveCardinal:E["a"],hierarchy:w["a"],treemap:O["a"],arc:A["a"]};const D=["alcestis","andromache","bacchan","cyclops","electra_eur","hecuba","helen","heracleidae","heracles","hippolytus","ion","iphi_aul","iph_taur","medea","orestes","phoenissae","rhesus","suppliants","troj_women"],T=[{value:"macbeth",label:"Macbeth"},{value:"merchant",label:"Merchant of Venice"},{value:"asyoulikeit",label:"As You Like It"},{value:"1henryiv",label:"Henvry IV, Part 1"},{value:"cleopatra",label:"Cleopatra"},{value:"coriolanus",label:"Coriolanus"},{value:"hamlet",label:"Hamlet"},{value:"julius_caesar",label:"Julius Caesar"},{value:"lear",label:"King Lear"},{value:"measure",label:"Measure for Measure"},{value:"midsummer",label:"Midummer Night's Dream"},{value:"much_ado",label:"Much Ado About Nothing"},{value:"othello",label:"Othello"},{value:"richardii",label:"Richard II"},{value:"richardiii",label:"Richard III"},{value:"romeo_juliet",label:"Romeo & Juliet"},{value:"tempest",label:"The Tempest"},{value:"titus",label:"Titus Andronicus"},{value:"troilus_cressida",label:"Troilus & Cressida"},{value:"twelfth_night",label:"Twelfth Night"}].sort((t,e)=>t.label>e.label?1:-1);console.log("plays",T);const R=["#6495ED","#40E0D0","#DE3163","#CCCCFF","#9FE2BF","#FFBF00","navy","maroon","teal","black","coral","violet","purple"],M=t=>{if(!t.lines)return{numLines:0,speakerAmts:[]};const e=t.lines.filter(t=>"text"===t.type).length,a={};t.lines.filter(t=>"text"===t.type).forEach(t=>{a.hasOwnProperty(t.speaker)||(a[t.speaker]=0),a[t.speaker]++});const n=Object.keys(a).map(t=>({speaker:t,value:a[t]/e})).sort((t,e)=>e.value-t.value);return{numLines:e,speakerAmts:n}},N=t=>{let e=0;const a={};t.forEach(t=>{t.lines.filter(t=>"text"===t.type).forEach(t=>{a.hasOwnProperty(t.speaker)||(a[t.speaker]=0),e++,a[t.speaker]++})});const n=Object.keys(a).map(t=>({speaker:t,value:a[t]/e})).sort((t,e)=>e.value-t.value);return{numLines:e,speakerAmts:n}},K=(t,e=10,a="")=>{const n=[],r=B(t),i=a?r.filter(t=>t===a):r,s=D.includes(t[0].title);return i.forEach(a=>{let r=0,i=0,c=0;t.forEach((t,l)=>{t.lines.forEach(t=>{if("text"===t.type&&i++,"text"===t.type&&t.speaker===a){const e=t.value.split(" ").length,a=s?e:1;c+=a}i%e===0&&i>0&&(n.push({speaker:a,chunkIdx:r,value:c}),i=0,c=0,r++)})})}),n};function B(t){const e=[];return t.forEach(t=>{t.lines.forEach(t=>{"speech"!==t.type||e.includes(t.value)||e.push(t.value)})}),e}function z(t){return t.replace(/\s/g,"_")}const F=t=>{const e=[];let a={speaker:"",lines:[]};return t.lines.forEach((n,r)=>{if(r===t.lines.length-1)return a.lines.push(n.value),void e.push(a);"speech"===n.type?(a.lines.length>0&&(e.push(a),a={},a.lines=[]),a.speaker=n.value):a.lines.push(n.value)}),e},H=t=>{const e={};return t.forEach(t=>{const a=F(t);let n=a[0].speaker;a.slice(1).forEach(t=>{e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(t.speaker)||(e[n][t.speaker]=0),e[n][t.speaker]++,n=t.speaker})}),e},W=t=>{const e={};return Object.keys(t).forEach(a=>{Object.keys(t[a]).forEach(n=>{const r=[a,n].sort().join("_");e.hasOwnProperty(r)||(e[r]=0),e[r]+=t[a][n]})}),Object.keys(e).map(t=>({pair:t,value:e[t]})).sort((t,e)=>e.value-t.value)},J=t=>t<R.length?R[t]:"gray",V=(t,e)=>{let a=0,n=0,r=0,i=!1;return t.forEach(t=>{const s=t.lines.length;t.title===e&&(n=s,i=!0),i||(r+=s),a+=s}),{total:a,scene:n,prev:r}},Y=(t,e,a=200,n=200)=>{const{total:r,prev:i,scene:s}=V(t,e),c=360*i/r*Math.PI/180,l=c+360*s/r*Math.PI/180;$.selectAll(".scenepie").remove();var o=$.select(".scenepie-container").append("svg").attr("width",a).attr("height",n).attr("class","scenepie").append("g"),u=$.arc().innerRadius(0).outerRadius(a/2).startAngle(c).endAngle(l);o.append("circle").attr("r",a/2).attr("cx",a/2).attr("cy",a/2).attr("fill","gray"),o.append("path").attr("d",u).attr("fill","cyan").attr("transform",`translate(${a/2},${a/2})`)},G=(t,e=[],a=500,n=350)=>{const r={left:80,top:0,bottom:0,right:0};r.left,r.right,r.top,r.bottom;$.selectAll(".pie").remove();var i=$.select(".pie-container").append("svg").attr("width",a+r.left+r.right).attr("height",n+r.top+r.bottom).attr("class","pie").append("g");const s={};t.forEach(t=>{const[e,a]=t.title.split(".").map(t=>parseInt(t)-1);s.hasOwnProperty(e)||(s[e]=0),s[e]++});const c=Math.max(...Object.keys(s).map(t=>s[t]));t.forEach(t=>{const s=M(t),l={children:s.speakerAmts.map((a,n)=>{const r=a.speaker,i=e.findIndex(t=>t.speaker===r);return{...a,fill:J(i),title:t.title}})},[o,u]=t.title.split(".").map(t=>parseInt(t)-1);var p=$.hierarchy(l).sum((function(t){return t.value}));const h=1/(c+1),d=.17,f=10;$.treemap().size([(a-r.left-f*c)*h,n*d]).padding(2)(p),i.selectAll("any_text_here_doesnt_matter").data(p.leaves()).enter().append("rect").attr("x",(function(t){return t.x0})).attr("y",(function(t){return t.y0})).attr("width",(function(t){return t.x1-t.x0})).attr("height",(function(t){return t.y1-t.y0})).attr("cursor","pointer").style("stroke","black").attr("data-title",(function(t){return t.data.title})).style("fill",(function(t){return t.data.fill})).attr("transform",(function(t){return`translate(${r.left+u*(a*h+f)}, ${f+o*(n*d+f)})`})).on("click",t=>{g.$emit(m.CLICK_SCENE,t.target.dataset.title)})});var l=$.scaleBand().range([0,n]).domain([0,1,2,3,4].map(t=>"Act "+(t+1))).padding(.1);i.append("g").attr("transform",`translate(${r.left-10},0)`).call($.axisLeft(l)).selectAll("text").attr("fill","black")},q=(t={},e=500,a=300)=>{const n={left:80,top:0,bottom:30,right:0},r=e+n.left+n.right,i=a+n.top+n.bottom;$.selectAll(".characters").remove();const{numLines:s,speakerAmts:c}=t;var l=$.select(".characters-container").append("svg").attr("width",r).attr("height",i).attr("class","characters").append("g").attr("transform","translate("+n.left+","+n.top+")");const o=Math.max(...c.map(t=>t.value))*s;var u=$.scaleLinear().domain([0,o]).range([0,e]);l.append("g").attr("transform","translate(0,"+a+")").call($.axisBottom(u)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");var p=$.scaleBand().range([0,a]).domain(c.map((function(t){return t.speaker}))).padding(.1);l.append("g").call($.axisLeft(p)),l.selectAll("myRect").data(c).enter().append("rect").attr("x",u(0)).attr("y",(function(t){return p(t.speaker)})).attr("width",(function(t){return u(t.value*s)})).attr("height",p.bandwidth()).attr("fill",(function(t){const e=c.findIndex(e=>e.speaker===t.speaker);return J(e)}))},Q=(t,e=[],a=500,n=300)=>{const r={left:150,top:0,bottom:30,right:30},i=a+r.left+r.right,s=n+r.top+r.bottom;$.selectAll(".interactions").remove();var c=$.select(".interactions-container").append("svg").attr("width",i).attr("height",s).attr("class","interactions").append("g").attr("transform","translate("+r.left+","+r.top+")");const l=Math.max(...t.map(t=>t.value));var o=$.scaleLinear().domain([0,l]).range([0,a]);c.append("g").attr("transform","translate(0,"+n+")").call($.axisBottom(o)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");var u=$.scaleBand().range([0,n]).domain(t.map((function(t){return t.pair}))).padding(.1);c.append("g").call($.axisLeft(u)),c.selectAll("myRect").data(t).enter().append("rect").attr("x",o(0)).attr("y",(function(t){return u(t.pair)})).attr("width",(function(t){return o(t.value)/2})).attr("height",u.bandwidth()).attr("fill",(function(t){const a=t.pair.split("_"),n=a.map(t=>e.findIndex(e=>e.speaker===t)),r=n.map(t=>J(t));return r[0]})),c.selectAll("myRect").data(t).enter().append("rect").attr("x",(function(t){return o(t.value)/2})).attr("y",(function(t){return u(t.pair)})).attr("width",(function(t){return o(t.value)/2})).attr("height",u.bandwidth()).attr("fill",(function(t){const a=t.pair.split("_"),n=a.map(t=>e.findIndex(e=>e.speaker===t)),r=n.map(t=>J(t));return r[1]}))},U=(t,e=10,a=500,n=300,r=.6,i=[],s="",c={left:100,top:30,bottom:30,right:200})=>{const l=a+c.left+c.right,o=n+c.top+c.bottom;var u=function(t){return t.chunkIdx},p=$.scaleLinear().range([0,a]),h=function(t){return p(u(t))},d=$.axisBottom(p),f=function(t){return t.value},v=$.scaleLinear(),y=function(t){return v(f(t))},b=function(t){return t[0]},_=$.scaleBand().range([0,n]),k=function(t){return _(b(t))},x=$.axisLeft(_),S=$.area().x(h).y1(y).curve($.curveCardinal),C=S.lineY1();$.selectAll(".ridges").remove();var w=$.select(".ridges-container").append("svg").attr("class","ridges").attr("width",l).attr("height",o).append("g").attr("transform","translate("+c.left+","+c.top+")");const O=t,j=K(O,e,s);var E=$.group(j,t=>t.speaker);p.domain($.extent(j,u)),_.domain(E.keys());var A=(1+r)*(o/_.domain().length);console.log("hgt",A),v.domain($.extent(j,f)).range([A,0]),S.y0(v(0)),w.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+o+")").call(d),w.append("g").attr("class","axis axis--activity").call(x),w.selectAll(".axis--activity .tick").on("mouseover",(function(t,e){$.selectAll(".area").attr("class","area"),$.selectAll(".axis--activity .tick").attr("font-weight","normal"),$.select(this).attr("font-weight","bold");const a=$.select("#area-"+z(t.target.innerHTML));a.attr("class","area active")})).on("mouseout",(function(t){$.selectAll(".area").attr("class","area"),$.selectAll(".axis--activity .tick").attr("font-weight","normal")})).on("click",(function(t){g.$emit(m.CLICK_SPEAKER,t.target.innerHTML)}));var P=w.append("g").attr("class","activities").selectAll(".activity").data(E).enter().append("g").attr("class",(function(t){return"activity activity--"+t[0]})).attr("transform",(function(t){var e=k(t)-_.bandwidth()+5;return"translate(0,"+e+")"}));P.append("path").attr("class","area").attr("id",(function(t,e){return"area-"+z(t[0])})).attr("fill",(function(t){const e=i.findIndex(e=>e.speaker===t[0]);return J(e)})).datum((function(t){const e=t[1];return e})).attr("d",S),P.append("path").attr("class","line").datum((function(t){return t[1]})).attr("d",C)};var X=a("bc3a"),Z=a.n(X),tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minLengthSelectOptions=[5,10,15,20,25,30],e.minLengthSelectOption=20,e.playData=[],e.allSpeakers=[],e}return Object(s["c"])(e,t),e.prototype.mounted=function(){var t=this;this.loadData(),g.$on(m.CLICK_SCENE,(function(e){t.goScene(e)})),g.$on(m.CLICK_SPEAKER,(function(e){t.goCharacter(e)}))},e.prototype.routeChanged=function(){this.loadData()},e.prototype.loadData=function(){var t=this,e=D.includes(this.play),a=e?"./plays/euripides":"./plays";Z.a.get(a+"/"+this.play+".json").then((function(e){console.log("got...",t.play,e.data),t.playData=e.data;var a=N(t.playData);t.allSpeakers=a.speakerAmts,U(t.playData,10,window.innerWidth-300,500,.6,a.speakerAmts);var n=H(e.data),r=W(n),i=(window.innerWidth-400)/2,s=300;Q(r.slice(0,10),a.speakerAmts,i,s),q(a,i-25,s),G(t.playData,a.speakerAmts,window.innerWidth-200,400)})).catch((function(t){return console.error("e",t)}))},Object.defineProperty(e.prototype,"plays",{get:function(){return T},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speeches",{get:function(){var t=this.getSpeechesOfMinLength(this.minLengthSelectOption);return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playLabel",{get:function(){var t,e=this;return null===(t=T.find((function(t){return t.value===e.play})))||void 0===t?void 0:t.label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"characters",{get:function(){var t=N(this.playData);return t.speakerAmts.map((function(t){return t.speaker}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scenes",{get:function(){return this.playData.map((function(t){return t.title}))},enumerable:!1,configurable:!0}),e.prototype.getSpeechesOfMinLength=function(t){return this.playData.reduce((function(t,e){var a=F(e).map((function(t){return{data:t,title:e.title}}));return Object(s["e"])(t,a)}),[]).filter((function(e){return e.data.lines.length>=t}))},e.prototype.getCharStyle=function(t){var e=J(t);return{color:e}},e.prototype.getLineStyle=function(t){var e=this.allSpeakers.findIndex((function(e){return e.speaker===t})),a=J(e);return{textShadow:"1px 1px 5px "+a}},e.prototype.goCharacter=function(t){this.$router.push("/"+this.play+"/characters/"+t)},e.prototype.goScene=function(t){this.$router.push("/"+this.play+"/"+t)},e.prototype.goPlay=function(t){this.$router.push("/"+t)},Object(s["b"])([Object(c["b"])()],e.prototype,"play",void 0),Object(s["b"])([Object(c["d"])("$route")],e.prototype,"routeChanged",null),e=Object(s["b"])([c["a"]],e),e}(c["c"]),et=tt,at=et,nt=(a("91d7"),Object(p["a"])(at,v,y,!1,null,"bdb2ee3c",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Explore the Bard")]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"200px"}},t._l(t.plays,(function(e){return a("div",{key:e.value,staticClass:"play",on:{click:function(a){return t.goPlay(e.value)}}},[t._v(" "+t._s(e.label)+" ")])})),0),a("div",{staticStyle:{"flex-grow":"1",height:"500px","padding-left":"4rem",overflow:"scroll"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("button",{staticStyle:{"margin-left":"2pt"},on:{click:t.search}},[t._v("Go")]),a("div",{staticStyle:{margin:"1rem 0","font-style":"italic"}},[t._v("Total results: "+t._s(t.searchResults.length))]),a("div",t._l(t.searchResults,(function(e,n){return a("div",{key:n,staticStyle:{"margin-bottom":"1.5rem"}},[a("div",[t._v(t._s(e.play)+", "+t._s(e.scene))]),a("div",[t._v(" "+t._s(e.speaker)+": "),a("span",[t._v(t._s(e.text))])])])})),0)])]),a("hr",{staticStyle:{margin:"60px 0 20px 0"}}),t._m(0)])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"created"},[a("div",[t._v("Created by")]),a("div",[a("a",{attrs:{href:"https://www.zackstout.com"}},[t._v("zackstout")])])])}],ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plays=T,e.searchText="",e.allPlayText=[],e.searchResults=[],e}return Object(s["c"])(e,t),e.prototype.mounted=function(){this.getAll()},e.prototype.goPlay=function(t){this.$router.push("/"+t)},e.prototype.getAll=function(){return Object(s["a"])(this,void 0,void 0,(function(){var t;return Object(s["d"])(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this.plays.map((function(t){return Z.a.get("./plays/"+t.value+".json")})))];case 1:return t=e.sent(),this.allPlayText=t.map((function(t){return t.data})),[2]}}))}))},e.prototype.search=function(){console.log("search",this.searchText);var t=this.searchText;if(t){var e=[];this.allPlayText.forEach((function(a){a.forEach((function(a){a.lines.forEach((function(n){"text"===n.type&&n.value.includes(t)&&e.push({play:a.play,scene:a.title,speaker:n.speaker,text:n.value})}))}))})),this.searchResults=e}},e=Object(s["b"])([c["a"]],e),e}(c["c"]),lt=ct,ot=lt,ut=(a("e4be"),Object(p["a"])(ot,it,st,!1,null,"59c26bdf",null)),pt=ut.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"sidebar"}},[n("div",{staticStyle:{padding:"1rem"}},[n("div",{staticStyle:{"font-weight":"bold"}},[t._v("CHARACTERS")]),t._l(t.characters,(function(e){return n("div",{key:e,staticClass:"side-char",style:{"font-weight":e===t.character?"bold":"normal"},on:{click:function(a){return t.goCharacter(e)}}},[t._v(" "+t._s(e)+" ")])})),n("div",{staticStyle:{"font-weight":"bold","margin-top":"20px"}},[t._v("SCENES")]),t._l(t.scenes,(function(e){return n("div",{key:e,staticClass:"side-scene",on:{click:function(a){return t.goScene(e)}}},[t._v(" "+t._s(e)+" ")])})),n("hr"),t._m(0)],2)]),n("div",{attrs:{id:"main"}},[n("div",{staticClass:"click",staticStyle:{width:"15px",height:"15px"},on:{click:function(e){return t.$router.push("/")}}},[n("img",{attrs:{src:a("478c"),alt:""}})]),n("hr",{staticStyle:{"margin-bottom":"0"}}),n("h2",[t._v(t._s(t.character))]),n("h3",{staticClass:"click",staticStyle:{"font-style":"italic","margin-bottom":"30px",cursor:"pointer"},on:{click:function(e){return t.goPlay(t.play)}}},[t._v(" "+t._s(t.playLabel)+" ")]),n("div",{staticClass:"ridges-container",staticStyle:{"margin-bottom":"20px"}}),n("div",{staticClass:"interactions-container"}),n("div",t._l(t.speechesOfCharacter,(function(e,a){return n("div",{key:a,staticStyle:{"margin-top":"20px"}},[n("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.title))]),n("div",[t._v(" "+t._s(e.data.speaker)+" "),n("span",{staticStyle:{"font-style":"italic"}},[t._v("("+t._s(e.data.lines.length)+" lines)")])]),n("div",t._l(e.data.lines,(function(a,r){return n("div",{key:r,style:t.getLineStyle(e.data.speaker)},[t._v(" "+t._s(a)+" ")])})),0)])})),0)])])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"created"},[a("div",[t._v("Created by")]),a("div",[a("a",{attrs:{href:"https://www.zackstout.com"}},[t._v("zackstout")])])])}],ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playData=[],e.allSpeakers=[],e}return Object(s["c"])(e,t),e.prototype.mounted=function(){console.log("mount",this.character),this.loadData()},e.prototype.routeChanged=function(){this.loadData()},e.prototype.loadData=function(){var t=this;Z.a.get("../../plays/"+this.play+".json").then((function(e){t.playData=e.data;var a=N(t.playData);t.allSpeakers=a.speakerAmts;var n=H(e.data),r=W(n);U(t.playData,10,window.innerWidth-400,35,.6,a.speakerAmts,t.character,{left:0,top:0,right:0,bottom:0}),Q(r.filter((function(e){return e.pair.includes(t.character)})),a.speakerAmts)})).catch((function(t){return console.error("e",t)}))},Object.defineProperty(e.prototype,"play",{get:function(){return this.$route.params.play},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playLabel",{get:function(){var t,e=this;return null===(t=T.find((function(t){return t.value===e.play})))||void 0===t?void 0:t.label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speechesOfCharacter",{get:function(){var t=this;return this.playData.reduce((function(t,e){var a=F(e).map((function(t){return{data:t,title:e.title}}));return Object(s["e"])(t,a)}),[]).filter((function(e){return e.data.speaker===t.character}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"characters",{get:function(){return this.allSpeakers.map((function(t){return t.speaker}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scenes",{get:function(){return this.playData.map((function(t){return t.title}))},enumerable:!1,configurable:!0}),e.prototype.getLineStyle=function(t){var e=this.allSpeakers.findIndex((function(e){return e.speaker===t})),a=J(e);return{textShadow:"1px 1px 5px "+a}},e.prototype.goCharacter=function(t){this.$router.push("/"+this.play+"/characters/"+t)},e.prototype.goScene=function(t){this.$router.push("/"+this.play+"/"+t)},e.prototype.goPlay=function(t){this.$router.push("/"+t)},Object(s["b"])([Object(c["b"])()],e.prototype,"character",void 0),Object(s["b"])([Object(c["d"])("$route")],e.prototype,"routeChanged",null),e=Object(s["b"])([c["a"]],e),e}(c["c"]),vt=ft,yt=vt,mt=(a("6608"),Object(p["a"])(yt,ht,dt,!1,null,"1f72e47c",null)),gt=mt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"sidebar"}},[n("div",{staticStyle:{padding:"1rem"}},[n("div",{staticStyle:{"font-weight":"bold"}},[t._v("CHARACTERS")]),t._l(t.allCharacters,(function(e){return n("div",{key:e,staticClass:"side-char",on:{click:function(a){return t.goCharacter(e)}}},[t._v(" "+t._s(e)+" ")])})),n("div",{staticStyle:{"font-weight":"bold","margin-top":"20px"}},[t._v("SCENES")]),t._l(t.allScenes,(function(e){return n("div",{key:e,staticClass:"side-scene",style:{"font-weight":e===t.scene?"bold":"normal"},on:{click:function(a){return t.goScene(e)}}},[t._v(" "+t._s(e)+" ")])})),n("hr"),t._m(0)],2)]),n("div",{attrs:{id:"main"}},[n("div",{staticClass:"click",staticStyle:{width:"15px",height:"15px"},on:{click:function(e){return t.$router.push("/")}}},[n("img",{attrs:{src:a("478c"),alt:""}})]),n("hr",{staticStyle:{"margin-bottom":"0"}}),n("h2",[0!==t.sceneIdx?n("span",{staticClass:"click",on:{click:function(e){return t.goScene(t.prevScene)}}},[t._v("←")]):t._e(),n("span",{staticStyle:{margin:"0 1rem"}},[t._v("Act "+t._s(t.actNum)+", Scene "+t._s(t.sceneNum))]),t.sceneIdx!==t.allScenes.length-1?n("span",{staticClass:"click",on:{click:function(e){return t.goScene(t.nextScene)}}},[t._v("→")]):t._e()]),n("div",{staticClass:"scenepie-container"}),n("h3",{staticClass:"click",staticStyle:{"font-style":"italic"},on:{click:function(e){return t.goPlay(t.play)}}},[t._v(t._s(t.playLabel))]),n("div",{staticClass:"ridges-container"}),n("div",t._l(t.characters,(function(e){return n("div",{key:e,staticClass:"click",style:t.getCharStyle(e),on:{click:function(a){return t.goCharacter(e)}}},[t._v(" "+t._s(e)+" ")])})),0),n("div",t._l(t.sceneData.lines,(function(e,a){return n("div",{key:a,style:t.getLineStyle(e)},[t._v(" "+t._s(e.value)+" ")])})),0)])])},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"created"},[a("div",[t._v("Created by")]),a("div",[a("a",{attrs:{href:"https://www.zackstout.com"}},[t._v("zackstout")])])])}],kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneData=[],e.sceneNum="0",e.actNum="0",e.allScenes=[],e.sceneIdx=-1,e.allSpeakers=[],e}return Object(s["c"])(e,t),e.prototype.routeChanged=function(){this.loadData()},e.prototype.mounted=function(){this.loadData()},e.prototype.getCharStyle=function(t){var e=this.allSpeakers.findIndex((function(e){return e.speaker===t})),a=J(e);return{color:a}},e.prototype.loadData=function(){var t=this;Z.a.get("../plays/"+this.play+".json").then((function(e){var a=t.scene.split("."),n=a[0],r=a[1];t.actNum=n,t.sceneNum=r,t.sceneData=e.data.find((function(e){return e.title===t.scene})),t.allScenes=e.data.map((function(t){return t.title})),t.sceneIdx=e.data.findIndex((function(e){return e.title===t.scene}));var i=N(e.data);t.allSpeakers=i.speakerAmts,U([t.sceneData],2,window.innerWidth-375,250,.6,i.speakerAmts),Y(e.data,t.scene,50,50)})).catch((function(t){return console.error("e",t)}))},e.prototype.getLineStyle=function(t){var e=this.allSpeakers.findIndex((function(e){return e.speaker===t.speaker})),a=J(e);return"speech"===t.type?{fontWeight:"bold",marginTop:"25px",color:a}:{textShadow:"1px 1px 5px "+a}},Object.defineProperty(e.prototype,"nextScene",{get:function(){return this.allScenes[this.sceneIdx+1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevScene",{get:function(){return this.allScenes[this.sceneIdx-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"characters",{get:function(){var t=M(this.sceneData);return t.speakerAmts.map((function(t){return t.speaker}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allCharacters",{get:function(){return this.allSpeakers.map((function(t){return t.speaker}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"play",{get:function(){return this.$route.params.play},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playLabel",{get:function(){var t,e=this;return null===(t=T.find((function(t){return t.value===e.play})))||void 0===t?void 0:t.label},enumerable:!1,configurable:!0}),e.prototype.goCharacter=function(t){this.$router.push("/"+this.play+"/characters/"+t)},e.prototype.goScene=function(t){this.$router.push("/"+this.play+"/"+t)},e.prototype.goPlay=function(t){this.$router.push("/"+t)},Object(s["b"])([Object(c["b"])()],e.prototype,"scene",void 0),Object(s["b"])([Object(c["d"])("$route")],e.prototype,"routeChanged",null),e=Object(s["b"])([c["a"]],e),e}(c["c"]),xt=kt,St=xt,Ct=(a("27c0"),Object(p["a"])(St,bt,_t,!1,null,"6188992f",null)),wt=Ct.exports;n["a"].use(f["a"]);var Ot=new f["a"]({mode:"history",routes:[{name:"home",path:"/",component:pt},{name:"play",path:"/:play",component:rt,props:function(t){return{play:t.params.play}}},{name:"character",path:"/:play/characters/:character",component:gt,props:function(t){return{character:t.params.character}}},{name:"scene",path:"/:play/:scene",component:wt,props:function(t){return{scene:t.params.scene}}}]});n["a"].config.productionTip=!1,new n["a"]({router:Ot,render:function(t){return t(d)}}).$mount("#app")},e4be:function(t,e,a){"use strict";a("cd31")}});
//# sourceMappingURL=app.bef4a304.js.map